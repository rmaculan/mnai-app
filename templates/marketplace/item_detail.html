{% extends 'marketplace/base.html' %}
{% block content %}
    <div class="container">
      <h1>Item Detail</h1>
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            {% if item.image %}
            <img
              src="{{ item.image.url }}"
              class="card-img-top"
              alt="{{ item.name }}"
            />
            {% else %}
            <img
              src="/media/defaults/default_item.jpg"
              class="card-img-top"
              alt="{{ item.name }}"
            />
            {% endif %}
            <div class="card-body">
              <h3>{{ item.name }}</h3>
              <strong>price: {{ item.price }}</strong>

              <p>seller: {{ item.seller }}</p>
              <p>date listed: {{ item.date_listed }}</p>
              <p>condition: {{ item.condition }}</p>
              <p>category: {{ item.category }}</p>
              <p>description: {{ item.description }}</p>
            </div>
            {% if user.is_authenticated %}
            <form action="{% url 'marketplace:contact_seller_form' item.id %}" method="post">
              {% csrf_token %}
              <button type="submit" class="mt-4 p-4 bg-gradient-to-r shadow-xl rounded-lg">Contact Seller</button>
            </form>
          
            {% else %}
            <a 
              href="{% url 'blog:login' %}" 
              class="btn btn-primary"
            >
              Login to Contact Seller
            </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
  </body>
</html>
